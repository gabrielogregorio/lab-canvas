function t(t,i,e,s){Object.defineProperty(t,i,{get:e,set:s,enumerable:!0,configurable:!0})}var i,e,s,n,a,o,h,c,r=globalThis,l={},d={},y=r.parcelRequiree935;null==y&&((y=function(t){if(t in l)return l[t].exports;if(t in d){var i=d[t];delete d[t];var e={id:t,exports:{}};return l[t]=e,i.call(e.exports,e,e.exports),e.exports}var s=Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,i){d[t]=i},r.parcelRequiree935=y),(0,y.register)("27Lyk",function(i,e){t(i.exports,"register",()=>s,t=>s=t);var s,n=new Map;s=function(t,i){for(var e=0;e<i.length-1;e+=2)n.set(i[e],{baseUrl:t,path:i[e+1]})}}),y("27Lyk").register(new URL("",import.meta.url).toString(),JSON.parse('["8jj1W","dome.180c35aa.js","TLCOp","bomb.e2ff4896.wav"]'));var v=/** @class */function(){function t(){var t=document.getElementById("canvas");this.canvas=t,this.contextCanvas=t.getContext("2d"),this.width=1600,this.height=800,this.startCityX=this.width-this.width/3.5,this.startCityY=this.height-3}return t.prototype.renderCity=function(){this.contextCanvas.beginPath(),this.contextCanvas.fillStyle="#22ffff",this.contextCanvas.fillRect(this.startCityX,this.startCityY,300,3),this.contextCanvas.closePath()},t.prototype.render=function(){this.renderCity()},t}(),f={};f=new URL("bomb.e2ff4896.wav",import.meta.url).toString();var u=/** @class */function(){function t(t,i){var e;this.canvas=t,this.audio=new Audio,this.audio.src=(e=f)&&e.__esModule?e.default:e,this.audio.volume=.5,this.explosionFinished=!1,this.target=i,this.velocityX=0,this.velocityY=1,this.missionIsDone=!1,this.color="#ddff33",this.isFullLocked=!1,this.hasAlreadyTakenOffAboveMinimumHeight=!1,this.x=this.canvas.width-this.canvas.width/4+10*Math.random(),this.y=0,this.id=new Date().getTime()}return t.prototype.explode=function(t){var i=this;t&&this.target.explode(),this.missionIsDone=!0,setTimeout(function(){i.audio.play()},900)},t.prototype.renderDefenseMissile=function(){this.canvas.contextCanvas.beginPath(),this.canvas.contextCanvas.fillStyle=this.isFullLocked?"#22ffff":this.color;var t=this.isFullLocked?3:2,i=this.isFullLocked?3:2;this.canvas.contextCanvas.fillRect(this.x,this.canvas.height-this.y,t,i),this.canvas.contextCanvas.closePath()},t.prototype.renderExplosion=function(){this.canvas.contextCanvas.beginPath(),this.canvas.contextCanvas.fillStyle="#ffffff",this.canvas.contextCanvas.fillRect(this.x,this.canvas.height-this.y,8,8),this.canvas.contextCanvas.closePath()},t.prototype.updateVelocityX=function(t){this.velocityX+=t,this.velocityX>1.65?this.velocityX=1.65:this.velocityX<-1.65&&(this.velocityX=-1.65)},t.prototype.updateVelocityY=function(t){this.velocityY+=t,this.velocityY>1.65?this.velocityY=1.65:this.velocityY<-1.65&&(this.velocityY=-1.65)},t.prototype.trackArtefact=function(){if(this.target.isGoing){var t=this.target.x-this.x,i=this.target.y-this.y;t>0?t>400?(this.updateVelocityX(.012),this.isFullLocked=!1):(this.updateVelocityX(.06),this.isFullLocked=!0):t<0&&(t<-400?(this.updateVelocityX(-.012),this.isFullLocked=!1):(this.updateVelocityX(-.06),this.isFullLocked=!0)),i>0?this.updateVelocityY(.06):i<0&&this.updateVelocityY(-.06),this.y+=this.velocityY,this.x+=this.velocityX}},t.prototype.render=function(){var t=this;if(!this.explosionFinished){if(this.missionIsDone){this.renderExplosion(),setTimeout(function(){t.explosionFinished=!0},2e3);return}!this.hasAlreadyTakenOffAboveMinimumHeight&&this.y>30&&(this.hasAlreadyTakenOffAboveMinimumHeight=!0),this.trackArtefact(),this.renderDefenseMissile();var i=Math.abs(this.target.x-this.x)+Math.abs(this.target.y-this.y)<=10;(i||!this.target.isGoing||this.hasAlreadyTakenOffAboveMinimumHeight&&this.y<30)&&this.explode(i)}},t}(),p=/** @class */function(){function t(t,i){this.canvas=i,this.defenseMissilesByIdHostileArtifacts={},this.hostileArtifacts=t,this.hostileArtifactsDetected=[]}return t.prototype.launchDefensibleMissile=function(t){this.defenseMissilesByIdHostileArtifacts[t.id]=new u(this.canvas,t)},t.prototype.findDefensibleMissileDestroyedAndFix=function(){var t=this;this.hostileArtifacts.forEach(function(i){i.isGoing&&i.y>30&&t.defenseMissilesByIdHostileArtifacts[i.id].missionIsDone&&t.launchDefensibleMissile(i)})},t.prototype.render=function(){var t=this;this.hostileArtifacts.forEach(function(i){t.hostileArtifactsDetected.includes(i.id)||(t.launchDefensibleMissile(i),t.hostileArtifactsDetected.push(i.id))}),this.hostileArtifactsDetected.forEach(function(i){var e,s;null===(s=null===(e=t.defenseMissilesByIdHostileArtifacts)||void 0===e?void 0:e[i])||void 0===s||s.render()}),this.findDefensibleMissileDestroyedAndFix()},t}(),x=function(t){var i=t+10*Math.random();return i>110?110:i<-110?-110:i},C=/** @class */function(){function t(t,i){var e=i.color,s=i.horizontalSpeedInitial,n=i.verticalSpeedInitial,a=i.startX;this.canvas=t,this.color=e,this.horizontalSpeedInitial=s,this.verticalSpeedInitial=n,this.elapsedTime=0,this.isGoing=!0,this.finishExplosion=!1,this.startX=a,this.startY=0,this.x=0,this.y=0,this.id=new Date().getTime()}return t.prototype.explode=function(){var t=this;this.isGoing=!1,setTimeout(function(){t.finishExplosion=!0},2e3)},t.prototype.renderPosition=function(){this.elapsedTime+=.01,this.canvas.contextCanvas.beginPath(),this.canvas.contextCanvas.fillStyle="#ffffff",this.canvas.contextCanvas.fillRect(this.x,this.canvas.height-this.y,2,2),this.canvas.contextCanvas.closePath()},t.prototype.renderExplosion=function(){this.canvas.contextCanvas.beginPath(),this.canvas.contextCanvas.fillStyle="#ff7722",this.canvas.contextCanvas.fillRect(this.x,this.canvas.height-this.y,8,8),this.canvas.contextCanvas.closePath()},t.prototype.render=function(t){if(!this.finishExplosion){var i,e=(i=10*this.elapsedTime,{x:Math.floor((this.horizontalSpeedInitial+t)*i/20),y:Math.floor((this.verticalSpeedInitial*i-4.905*i*i)/20)});if(this.y=e.y+this.startY,this.x=e.x+this.startX,this.isGoing&&this.elapsedTime>2&&e.y<=5&&this.explode(),this.isGoing){this.renderPosition();return}0===this.elapsedTime||this.finishExplosion||this.renderExplosion()}},t}(),S=/** @class */function(){function t(t,i){var e=i.color,s=i.keyState,n=i.horizontalSpeedInitial,a=i.verticalSpeedInitial,o=i.startX;this.canvas=t,this.color=e,this.keyState=s,this.horizontalSpeedInitial=n,this.verticalSpeedInitial=a,this.elapsedTime=0,this.isGoing=!0,this.finishExplosion=!1,this.velocityX=.1,this.velocityY=.1,this.startX=o,this.startY=0,this.x=0,this.y=0,this.id=new Date().getTime()}return t.prototype.explode=function(){var t=this;this.isGoing=!1,this.velocityX=0,this.velocityY=0,setTimeout(function(){t.finishExplosion=!0},2e3)},t.prototype.renderPosition=function(){this.elapsedTime+=.01,this.canvas.contextCanvas.beginPath(),this.canvas.contextCanvas.fillStyle="#ffffff",this.canvas.contextCanvas.fillRect(this.x,this.canvas.height-this.y,2,2),this.canvas.contextCanvas.closePath()},t.prototype.renderExplosion=function(){this.canvas.contextCanvas.beginPath(),this.canvas.contextCanvas.fillStyle="#ff7722",this.canvas.contextCanvas.fillRect(this.x,this.canvas.height-this.y,8,8),this.canvas.contextCanvas.closePath()},t.prototype.updateVelocity=function(){this.isGoing&&(this.keyState.keyboardState.KeyD&&(this.velocityX+=.1),this.keyState.keyboardState.KeyA&&(this.velocityX-=.1),this.keyState.keyboardState.KeyW&&(this.velocityY+=.1),this.keyState.keyboardState.KeyS&&(this.velocityY-=.1),this.velocityX>1.4?this.velocityX=1.4:this.velocityX<-1.4&&(this.velocityX=-1.4),this.velocityY>1.4?this.velocityY=1.4:this.velocityY<-1.4&&(this.velocityY=-1.4))},t.prototype.render=function(){if(!this.finishExplosion){if(this.updateVelocity(),this.x+=this.velocityX,this.y+=this.velocityY,this.isGoing){this.renderPosition();return}0===this.elapsedTime||this.finishExplosion||this.renderExplosion()}},t}(),k={};t(k,"InteractionHandler",()=>b);var g=function(){return(g=Object.assign||function(t){for(var i,e=1,s=arguments.length;e<s;e++)for(var n in i=arguments[e])Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);return t}).apply(this,arguments)},b=/** @class */function(){function t(t,i){var e=this;this.canvas=t,this.keyBoardHandler=i,this.keyboardState=i.keyboardState,this.lastXClick=0,this.lastYClick=0,t.canvas.addEventListener("touchstart",function(t){return e.handleTouchStart(t)},!1),t.canvas.addEventListener("mousedown",function(t){return e.handleMouseDown(t)},!1)}return t.prototype.handleTouchStart=function(t){this.getCanvasCoordinates(t),console.log("Touch started at x: ".concat(this.lastXClick,", y: ").concat(this.lastYClick))},t.prototype.handleMouseDown=function(t){this.getCanvasCoordinates(t),console.log("Mouse down at x: ".concat(this.lastXClick,", y: ").concat(this.lastYClick))},t.prototype.setUi=function(t){this.ui=t},t.prototype.resetClick=function(){this.lastXClick=0,this.lastYClick=0},t.prototype.getCanvasCoordinates=function(t){var i=this.canvas.canvas.getBoundingClientRect();t.touches?(this.lastXClick=t.touches[0].clientX-i.left,this.lastYClick=t.touches[0].clientY-i.top):(this.lastXClick=t.clientX-i.left,this.lastYClick=t.clientY-i.top)},t.prototype.hasCollision=function(t){var i=this.lastXClick>=this.ui.positions[t].x&&this.lastXClick<=this.ui.positions[t].x+this.ui.positions[t].width,e=this.lastYClick>=this.ui.positions[t].y&&this.lastYClick<=this.ui.positions[t].y+this.ui.positions[t].height;return i&&e},t.prototype.render=function(){var t=g({},this.keyBoardHandler.keyboardState);this.lastXClick&&this.lastYClick&&(this.hasCollision("KeyA")&&(t.KeyA=!0),this.hasCollision("KeyW")&&(t.KeyW=!0),this.hasCollision("KeyD")&&(t.KeyD=!0),this.hasCollision("KeyS")&&(t.KeyS=!0),this.hasCollision("KeyF")&&(t.KeyF=!0),this.hasCollision("KeyQ")&&(t.KeyQ=!0),this.hasCollision("KeyE")&&(t.KeyE=!0),this.hasCollision("KeyX")&&(t.KeyX=!0)),this.resetClick(),this.keyboardState=t},t}(),K=/** @class */function(){function t(t,i){this.canvas=t,this.keyboardState=i,this.hidden=!1,this.previneMultiplesActions=!1,this.positions={KeyX:{x:0,y:0,height:40,width:40}}}return t.prototype.handleHiddenPartialUi=function(){this.hidden=!0},t.prototype.handleShowFullUi=function(){this.hidden=!1},t.prototype.renderButton=function(t){var i=t.text,e=t.x,s=t.y,n=t.xText,a=t.yText,o=t.isActive;o?(this.canvas.contextCanvas.fillStyle="#11ffff",this.canvas.contextCanvas.fillRect(e,s,40,40)):(this.canvas.contextCanvas.strokeStyle="#11ffff",this.canvas.contextCanvas.lineWidth=3,this.canvas.contextCanvas.rect(e,s,40,40),this.canvas.contextCanvas.stroke()),this.canvas.contextCanvas.fillStyle=o?"#000000":"#11ffff",this.canvas.contextCanvas.font="bold 24px Verdana",this.canvas.contextCanvas.textAlign="center",this.canvas.contextCanvas.fillText(i,n,a)},t.prototype.renderTextUi=function(t,i,e){this.canvas.contextCanvas.fillStyle="#ff2211",this.canvas.contextCanvas.font="medium 24px Verdana",this.canvas.contextCanvas.textAlign="center",this.canvas.contextCanvas.fillText(t,i,e)},t.prototype.optionShowUi=function(t){this.canvas.contextCanvas.beginPath(),this.renderTextUi("ESCONDER UI",this.canvas.width-300-40,t);var i=this.canvas.width-300+90;this.positions.KeyX={x:i-20,y:t-30,height:40,width:40},this.renderButton({isActive:this.keyboardState.keyboardState.KeyX,x:this.positions.KeyX.x,y:this.positions.KeyX.y,text:"x",xText:i,yText:t}),this.canvas.contextCanvas.closePath()},t.prototype.traceRocket=function(t){this.canvas.contextCanvas.beginPath(),this.renderTextUi("RASTRO",this.canvas.width-300,t);var i=this.canvas.width-300+90;this.positions.KeyF={x:i-20,y:t-30,height:40,width:40},this.renderButton({text:"f",x:i-20,y:t-30,isActive:!1,xText:i,yText:t}),this.canvas.contextCanvas.closePath()},t.prototype.randomArtifact=function(t){this.canvas.contextCanvas.beginPath(),this.renderTextUi("ARTEFATO ALEATORIO",this.canvas.width-398,t);var i=this.canvas.width-300+90;this.positions.KeyE={x:i-20,y:t-30,height:40,width:40},this.renderButton({text:"e",x:i-20,y:t-30,isActive:this.keyboardState.keyboardState.KeyE,xText:i,yText:t}),this.canvas.contextCanvas.closePath()},t.prototype.controlledArtefact=function(t){this.canvas.contextCanvas.beginPath(),this.renderTextUi("ARTEFATO CONTROLADO",this.canvas.width-412,t);var i=this.canvas.width-300+90;this.positions.KeyQ={x:i-20,y:t-30,height:40,width:40},this.renderButton({text:"q",x:i-20,y:t-30,isActive:this.keyboardState.keyboardState.KeyQ,xText:i,yText:t}),this.canvas.contextCanvas.closePath()},t.prototype.renderKey=function(t,i,e,s,n){this.positions[n]={x:i-20,y:e+50-30,height:40,width:40},this.renderButton({text:t,x:i-20,y:e+50-30,isActive:s,xText:i,yText:e+50})},t.prototype.optionControlForControlledArtefact=function(t){this.canvas.contextCanvas.beginPath(),this.renderTextUi("CONTROLAR ARTEFATO",this.canvas.width-340,t),this.renderKey("W",this.canvas.width-450+100,t,this.keyboardState.keyboardState.KeyW,"KeyW"),this.renderKey("A",this.canvas.width-450+50,t+50,this.keyboardState.keyboardState.KeyA,"KeyA"),this.renderKey("D",this.canvas.width-450+148,t+50,this.keyboardState.keyboardState.KeyD,"KeyD"),this.renderKey("S",this.canvas.width-450+100,t+100,this.keyboardState.keyboardState.KeyS,"KeyS"),this.canvas.contextCanvas.closePath()},t.prototype.render=function(){var t=this;this.keyboardState.keyboardState.KeyX&&!this.previneMultiplesActions&&(this.previneMultiplesActions=!0,this.hidden=!this.hidden,setTimeout(function(){t.previneMultiplesActions=!1},200)),this.optionShowUi(this.canvas.height/4-50),this.hidden||(this.traceRocket(this.canvas.height/4),this.randomArtifact(this.canvas.height/4+100),this.controlledArtefact(this.canvas.height/4+150),this.optionControlForControlledArtefact(this.canvas.height/4+200))},t}(),A=0,m=!1;i=new v,e=new function(){var t=this;this.keyboardState={Space:!1,KeyA:!1,KeyD:!1,KeyS:!1,KeyW:!1,ShiftLeft:!1,KeyE:!1,KeyF:!1,KeyQ:!1,KeyX:!1};// REFACTOR ME
var i={Space:function(i){t.keyboardState.Space=i},KeyW:function(i){t.keyboardState.KeyW=i},KeyS:function(i){t.keyboardState.KeyS=i},KeyA:function(i){t.keyboardState.KeyA=i},KeyD:function(i){t.keyboardState.KeyD=i},ShiftLeft:function(i){t.keyboardState.ShiftLeft=i},KeyE:function(i){t.keyboardState.KeyE=i},KeyQ:function(i){t.keyboardState.KeyQ=i},KeyF:function(i){t.keyboardState.KeyF=i},KeyX:function(i){t.keyboardState.KeyX=i}};window.addEventListener("keydown",function(t){var e;null===(e=i[t.code])||void 0===e||e.call(i,!0)}),window.addEventListener("keyup",function(t){var e;null===(e=i[t.code])||void 0===e||e.call(i,!1)})},s=new k.InteractionHandler(i,e),n=[],a=new p(n,i),o=new K(i,s),s.setUi(o),h=!1,c=!0,requestAnimationFrame(function t(){c&&i.contextCanvas.clearRect(0,0,i.width,i.height),s.keyboardState.KeyF&&!h&&(c=!c,h=!0,setTimeout(function(){h=!1},200)),o.render(),i.render(),a.render(),s.render(),A=x(A),s.keyboardState.KeyQ&&!m&&(m=!0,n.push(new S(i,{color:"#1177ff",keyState:s,horizontalSpeedInitial:0,verticalSpeedInitial:5,startX:100})),setTimeout(function(){m=!1},500)),s.keyboardState.KeyE&&n.push(new C(i,{color:"rgb(".concat(Math.floor(256*Math.random()),", ").concat(Math.floor(256*Math.random()),", ").concat(Math.floor(256*Math.random()),")"),horizontalSpeedInitial:150+(Math.random()-15),verticalSpeedInitial:500+(Math.random()-.5)+(Math.random()>.7?150*Math.random():0),startX:350*Math.random()})),n.forEach(function(t){t.render(A)}),requestAnimationFrame(t)});//# sourceMappingURL=dome.180c35aa.js.map

//# sourceMappingURL=dome.180c35aa.js.map
