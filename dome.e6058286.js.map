{"mappings":"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","sources":["<anon>","src/dome/index.ts","src/dome/Canvas.ts","src/dome/KeyBoardHandler.ts","src/dome/Rocket.ts"],"sourcesContent":["var $fa4cdc5e54ed440d$export$8d01c972ee8b14a9 = /** @class */ function() {\n    function Canvas() {\n        var canvas = document.getElementById(\"canvas\");\n        this.contextCanvas = canvas.getContext(\"2d\");\n        this.width = 3600;\n        this.height = 3600;\n    }\n    return Canvas;\n}();\n\n\nvar $2338a30c68c1a1d8$export$6a77e7ef76b918fb = /** @class */ function() {\n    function KeyBoardHandler() {\n        var _this = this;\n        this.keyboardState = {\n            space: false\n        };\n        var moves = {\n            Space: function(newValue) {\n                _this.keyboardState.space = newValue;\n            }\n        };\n        window.addEventListener(\"keydown\", function(event) {\n            var _a;\n            (_a = moves[event.code]) === null || _a === void 0 || _a.call(moves, true);\n        });\n        window.addEventListener(\"keyup\", function(event) {\n            var _a;\n            (_a = moves[event.code]) === null || _a === void 0 || _a.call(moves, false);\n        });\n    }\n    return KeyBoardHandler;\n}();\n\n\nvar $0f4cd0263a783fc0$var$GRAVITY = 9.81;\nvar $0f4cd0263a783fc0$var$factorShowInsideCanvas = 5;\nfunction $0f4cd0263a783fc0$var$rocketTrajectory(t, horizontalSpeedInitial, verticalSpeedInitial, windSpeed) {\n    var horizontalSpeedCorrected = horizontalSpeedInitial + windSpeed;\n    var x = horizontalSpeedCorrected * t;\n    var y = verticalSpeedInitial * t - 0.5 * $0f4cd0263a783fc0$var$GRAVITY * t * t;\n    return {\n        x: Math.floor(x / $0f4cd0263a783fc0$var$factorShowInsideCanvas),\n        y: Math.floor(y / $0f4cd0263a783fc0$var$factorShowInsideCanvas)\n    };\n}\nvar $0f4cd0263a783fc0$export$c622ac6ddd491a46 = /** @class */ function() {\n    function Rocket(canvas, _a) {\n        var color = _a.color, horizontalSpeedInitial = _a.horizontalSpeedInitial, verticalSpeedInitial = _a.verticalSpeedInitial;\n        this.canvas = canvas;\n        this.color = color;\n        this.horizontalSpeedInitial = horizontalSpeedInitial;\n        this.verticalSpeedInitial = verticalSpeedInitial;\n        this.elapsedTime = 0;\n        this.isGoing = false;\n        this.x = 0;\n        this.y = 0;\n        this.id = new Date().getTime();\n        this.finishExplosion = false;\n    }\n    Rocket.prototype.launch = function() {\n        this.isGoing = true;\n    };\n    Rocket.prototype.explode = function() {\n        this.isGoing = false;\n    };\n    Rocket.prototype.render = function(windSpeed) {\n        var _this = this;\n        if (this.finishExplosion) return;\n        var position = $0f4cd0263a783fc0$var$rocketTrajectory(this.elapsedTime * 10, this.horizontalSpeedInitial, this.verticalSpeedInitial, windSpeed);\n        this.y = position.y;\n        this.x = position.x;\n        if (position.y <= 0 && this.isGoing && this.elapsedTime > 2) {\n            this.explode();\n            console.log(\"explode\");\n            setTimeout(function() {\n                _this.finishExplosion = true;\n            }, 2000);\n        }\n        if (this.isGoing) {\n            this.elapsedTime += 0.01;\n            this.canvas.contextCanvas.beginPath();\n            this.canvas.contextCanvas.fillStyle = this.color;\n            this.canvas.contextCanvas.fillRect(position.x, this.canvas.height - position.y, 10, 10);\n            this.canvas.contextCanvas.closePath();\n            return;\n        }\n        var rocketAsLaunched = this.elapsedTime !== 0;\n        if (rocketAsLaunched) {\n            this.canvas.contextCanvas.beginPath();\n            this.canvas.contextCanvas.fillStyle = \"#ff7722\";\n            this.canvas.contextCanvas.fillRect(position.x, this.canvas.height - 10, 50, 50);\n            this.canvas.contextCanvas.closePath();\n        }\n    };\n    return Rocket;\n}();\n\n\nfunction $a77ecfb76e8b8641$var$randomRGB() {\n    var r = Math.floor(Math.random() * 256);\n    var g = Math.floor(Math.random() * 256);\n    var b = Math.floor(Math.random() * 256);\n    return \"rgb(\".concat(r, \", \").concat(g, \", \").concat(b, \")\");\n}\n(function() {\n    var canvas = new (0, $fa4cdc5e54ed440d$export$8d01c972ee8b14a9)();\n    var keyboard = new (0, $2338a30c68c1a1d8$export$6a77e7ef76b918fb)();\n    var windSpeed = 0;\n    var misslebles = [];\n    function drawMissile() {\n        canvas.contextCanvas.clearRect(0, 0, canvas.width, canvas.height);\n        windSpeed += Math.random() * 2;\n        if (windSpeed > 20) windSpeed = 20;\n        if (windSpeed < -20) windSpeed = -20;\n        if (keyboard.keyboardState.space) {\n            var misseble = new (0, $0f4cd0263a783fc0$export$c622ac6ddd491a46)(canvas, {\n                color: $a77ecfb76e8b8641$var$randomRGB(),\n                horizontalSpeedInitial: 100 + (Math.random() - 0.5) * 20,\n                verticalSpeedInitial: 500 + (Math.random() - 0.5) * 20\n            });\n            misseble.launch();\n            misslebles.push(misseble);\n        }\n        misslebles.forEach(function(missible) {\n            missible.render(windSpeed);\n        });\n        requestAnimationFrame(drawMissile);\n    }\n    requestAnimationFrame(drawMissile);\n})();\n\n\n//# sourceMappingURL=dome.e6058286.js.map\n","import { Canvas } from \"./Canvas\";\nimport { KeyBoardHandler } from \"./KeyBoardHandler\";\nimport { Rocket } from \"./Rocket\";\n\nfunction randomRGB() {\n  const r = Math.floor(Math.random() * 256);\n  const g = Math.floor(Math.random() * 256);\n  const b = Math.floor(Math.random() * 256);\n\n  return `rgb(${r}, ${g}, ${b})`;\n}\n\n(function () {\n  const canvas = new Canvas();\n  const keyboard = new KeyBoardHandler();\n  let windSpeed = 0;\n\n  const misslebles: Rocket[] = [];\n\n  function drawMissile() {\n    canvas.contextCanvas.clearRect(0, 0, canvas.width, canvas.height);\n    windSpeed += Math.random() * 2;\n    if (windSpeed > 20) {\n      windSpeed = 20;\n    }\n\n    if (windSpeed < -20) {\n      windSpeed = -20;\n    }\n\n    if (keyboard.keyboardState.space) {\n      const misseble = new Rocket(canvas, { color: randomRGB(), horizontalSpeedInitial: 100 + (Math.random() - 0.5) * 20, verticalSpeedInitial: 500 + (Math.random() - 0.5) * 20 });\n      misseble.launch();\n      misslebles.push(misseble);\n    }\n\n    misslebles.forEach((missible) => {\n      missible.render(windSpeed);\n    });\n\n    requestAnimationFrame(drawMissile);\n  }\n\n  requestAnimationFrame(drawMissile);\n})();\n","export class Canvas {\n  contextCanvas: CanvasRenderingContext2D;\n  width: number;\n  height: number;\n\n  constructor() {\n    const canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\n\n    this.contextCanvas = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n    this.width = 3600;\n    this.height = 3600;\n  }\n}\n","import { keyboardStateType } from \"./types\";\n\nexport class KeyBoardHandler {\n  keyboardState: keyboardStateType;\n  constructor() {\n    this.keyboardState = {\n      space: false,\n    };\n\n    const moves = {\n      Space: (newValue) => {\n        this.keyboardState.space = newValue;\n      },\n    };\n\n    window.addEventListener(\"keydown\", (event) => {\n      moves[event.code]?.(true);\n    });\n\n    window.addEventListener(\"keyup\", (event) => {\n      moves[event.code]?.(false);\n    });\n  }\n}\n","import { Canvas } from \"./Canvas\";\n\nconst GRAVITY = 9.81;\nconst factorShowInsideCanvas = 5;\n\nfunction rocketTrajectory(t, horizontalSpeedInitial, verticalSpeedInitial, windSpeed) {\n  let horizontalSpeedCorrected = horizontalSpeedInitial + windSpeed;\n\n  let x = horizontalSpeedCorrected * t;\n  let y = verticalSpeedInitial * t - 0.5 * GRAVITY * t * t;\n\n  return {\n    x: Math.floor(x / factorShowInsideCanvas),\n    y: Math.floor(y / factorShowInsideCanvas),\n  };\n}\n\nexport class Rocket {\n  horizontalSpeedInitial: number;\n  verticalSpeedInitial: number;\n  canvas: Canvas;\n  color: string;\n  x: number;\n  y: number;\n  elapsedTime: number;\n  isGoing: boolean;\n  finishExplosion: boolean;\n  id: number;\n  constructor(canvas, { color, horizontalSpeedInitial, verticalSpeedInitial }: { color: string; horizontalSpeedInitial: number; verticalSpeedInitial: number }) {\n    this.canvas = canvas;\n    this.color = color;\n    this.horizontalSpeedInitial = horizontalSpeedInitial;\n    this.verticalSpeedInitial = verticalSpeedInitial;\n    this.elapsedTime = 0;\n    this.isGoing = false;\n    this.x = 0;\n    this.y = 0;\n    this.id = new Date().getTime();\n    this.finishExplosion = false;\n  }\n\n  launch() {\n    this.isGoing = true;\n  }\n\n  explode() {\n    this.isGoing = false;\n  }\n\n  render(windSpeed) {\n    if (this.finishExplosion) {\n      return;\n    }\n    let position = rocketTrajectory(this.elapsedTime * 10, this.horizontalSpeedInitial, this.verticalSpeedInitial, windSpeed);\n\n    this.y = position.y;\n    this.x = position.x;\n\n    if (position.y <= 0 && this.isGoing && this.elapsedTime > 2) {\n      this.explode();\n      console.log(\"explode\");\n\n      setTimeout(() => {\n        this.finishExplosion = true;\n      }, 2000);\n    }\n\n    if (this.isGoing) {\n      this.elapsedTime += 0.01;\n\n      this.canvas.contextCanvas.beginPath();\n      this.canvas.contextCanvas.fillStyle = this.color;\n      this.canvas.contextCanvas.fillRect(position.x, this.canvas.height - position.y, 10, 10);\n      this.canvas.contextCanvas.closePath();\n      return;\n    }\n\n    const rocketAsLaunched = this.elapsedTime !== 0;\n    if (rocketAsLaunched) {\n      this.canvas.contextCanvas.beginPath();\n      this.canvas.contextCanvas.fillStyle = \"#ff7722\";\n      this.canvas.contextCanvas.fillRect(position.x, this.canvas.height - 10, 50, 50);\n      this.canvas.contextCanvas.closePath();\n    }\n  }\n}\n"],"names":["canvas","keyboard","windSpeed","misslebles","$0f4cd0263a783fc0$export$c622ac6ddd491a46","Rocket","_a","color","horizontalSpeedInitial","verticalSpeedInitial","elapsedTime","isGoing","x","y","id","Date","getTime","finishExplosion","prototype","launch","explode","render","_this","t","position","Math","floor","console","log","setTimeout","contextCanvas","beginPath","fillStyle","fillRect","height","closePath","document","getElementById","getContext","width","keyboardState","space","moves","Space","newValue","window","addEventListener","event","code","call","requestAnimationFrame","drawMissile","clearRect","random","misseble","concat","push","forEach","missible"],"version":3,"file":"dome.e6058286.js.map"}